@for (field of fields(); track $index) {
<div class="field" [formGroup]="form()">
  <label for="label-form">{{ field.label }}</label>
  <div class="custom-input">
    @if (field.type !== 'select') {
    <input
      [id]="field.formControlName"
      [type]="field.type"
      class="input-form"
      [ngClass]="{
        custom: field.type !== 'text',
        'input-error': hasError(field.formControlName, field)
      }"
      [formControlName]="field.formControlName"
      [placeholder]="field.placeholder || ''"
      required
    />
    } @else {
    <select
      [id]="field.formControlName"
      [formControlName]="field.formControlName"
      class="input-form select"
      required
    >
      <option value="" disabled selected hidden>
        {{ field.placeholder }}
      </option>
      @for (option of field.options; track $index) {
      <option [value]="option.value">{{ option.label }}</option>
      }
    </select>
    } @if (field.icon?.trim()) {
    <img
      [ngClass]="field.type !== 'text' ? 'custom-icon' : ''"
      [src]="field.icon"
      alt=""
    />
    }
  </div>
  @if (hasError(field.formControlName, field)) {
  <div class="error">{{ getErrorMessage(field.formControlName, field) }}</div>
  }
</div>
}
